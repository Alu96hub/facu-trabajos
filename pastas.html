<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pastas Casares - Reparto de Pastas Caseras</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Variables y reset */
        :root {
            --azul: #457b9d;
            --azul-oscuro: #1d3557;
            --rojo: #e63946;
            --rojo-oscuro: #c1121f;
            --blanco: #f1faee;
            --gris: #f5f5f5;
            --texto: #333;
            --exito: #4caf50;
            --peligro: #f44336;
            --naranja: #ff9800;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--gris);
            color: var(--texto);
            line-height: 1.6;
        }
        
        /* Header */
        header {
            background: linear-gradient(135deg, var(--azul), var(--rojo));
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 5%;
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .logo i {
            color: var(--blanco);
            font-size: 28px;
        }
        
        .logo h1 {
            font-size: 22px;
            color: var(--blanco);
        }
        
        .nav-links {
            display: flex;
            gap: 20px;
        }
        
        .nav-links a {
            text-decoration: none;
            color: var(--blanco);
            font-weight: 500;
            transition: color 0.3s;
        }
        
        .nav-links a:hover {
            color: var(--azul-oscuro);
        }
        
        .cart-icon {
            position: relative;
            cursor: pointer;
        }
        
        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background-color: var(--peligro);
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 12px;
        }
        
        /* Main content */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .hero {
            background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('https://images.unsplash.com/photo-1551183053-bf91a1d81141?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 60px 20px;
            text-align: center;
            border-radius: 10px;
            margin-bottom: 30px;
        }
        
        .hero h2 {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }
        
        .hero p {
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto 20px;
        }
        
        .delivery-info {
            background-color: var(--blanco);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        .delivery-info h3 {
            color: var(--azul-oscuro);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .encargo-destacado {
            background-color: #fff3cd;
            padding: 12px 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            font-weight: bold;
            color: #856404;
            border-left: 4px solid var(--naranja);
        }
        
        /* Products grid */
        .products-section h2 {
            margin-bottom: 20px;
            color: var(--azul-oscuro);
            border-left: 5px solid var(--rojo);
            padding-left: 15px;
        }
        
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }
        
        .product-card {
            background-color: var(--blanco);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 3px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
        }
        
        .product-image {
            height: 180px;
            position: relative;
            overflow: hidden;
            background: linear-gradient(135deg, var(--azul), var(--rojo));
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .product-image i {
            font-size: 4rem;
            color: var(--blanco);
        }
        
        .product-availability {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: var(--exito);
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        .product-info {
            padding: 15px;
        }
        
        .product-info h3 {
            margin-bottom: 10px;
            color: var(--azul-oscuro);
        }
        
        .product-price {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--rojo);
            margin-bottom: 15px;
        }
        
        .product-details {
            margin-bottom: 10px;
            font-size: 0.9rem;
            color: #666;
        }
        
        .product-cant, .product-weight {
            margin-bottom: 5px;
        }
        
        .product-clarification {
            font-size: 0.8rem;
            color: var(--azul);
            font-style: italic;
            margin-top: 5px;
        }
        
        .product-ingredientes {
            margin-top: 10px;
            font-size: 0.85rem;
            color: #666;
        }
        
        .flavor-selector {
            margin-bottom: 15px;
        }
        
        .flavor-selector label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: var(--azul-oscuro);
        }
        
        .flavor-selector select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 0.9rem;
            background-color: white;
        }
        
        .quantity-selector {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .quantity-btn {
            width: 30px;
            height: 30px;
            background-color: var(--gris);
            border: none;
            border-radius: 5px;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .quantity-input {
            width: 50px;
            height: 30px;
            text-align: center;
            margin: 0 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        
        .add-to-cart {
            width: 100%;
            padding: 10px;
            background: linear-gradient(135deg, var(--azul), var(--rojo));
            color: var(--blanco);
            border: none;
            border-radius: 5px;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.3s;
        }
        
        .add-to-cart:hover {
            transform: scale(1.05);
        }
        
        /* Cart sidebar - MEJORADO PARA RESPONSIVIDAD */
        .cart-sidebar {
            position: fixed;
            top: 0;
            right: -100%;
            width: 100%;
            height: 100vh;
            background-color: var(--blanco);
            box-shadow: -5px 0 15px rgba(0,0,0,0.1);
            transition: right 0.3s;
            z-index: 1000;
            padding: 20px;
            overflow-y: auto;
        }
        
        .cart-sidebar.active {
            right: 0;
        }
        
        .cart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .close-cart {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--texto);
        }
        
        .cart-items {
            margin-bottom: 20px;
            max-height: 40vh;
            overflow-y: auto;
        }
        
        .cart-item {
            display: flex;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .cart-item-image {
            width: 80px;
            height: 80px;
            border-radius: 5px;
            overflow: hidden;
            margin-right: 15px;
            background: linear-gradient(135deg, var(--azul), var(--rojo));
            display: flex;
            justify-content: center;
            align-items: center;
            flex-shrink: 0;
        }
        
        .cart-item-image i {
            font-size: 2rem;
            color: var(--blanco);
        }
        
        .cart-item-details {
            flex: 1;
            min-width: 0; /* Para evitar que el contenido se desborde */
        }
        
        .cart-item-name {
            font-weight: bold;
            margin-bottom: 5px;
            word-break: break-word;
        }
        
        .cart-item-flavor {
            font-size: 0.9rem;
            color: var(--azul);
            margin-bottom: 5px;
        }
        
        .cart-item-price {
            color: var(--rojo);
            margin-bottom: 5px;
        }
        
        .cart-item-quantity {
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 5px;
        }
        
        .remove-item {
            background: none;
            border: none;
            color: var(--peligro);
            cursor: pointer;
            margin-left: auto;
            font-size: 0.9rem;
            padding: 5px;
        }
        
        .cart-summary {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #eee;
            position: sticky;
            bottom: 0;
            background-color: var(--blanco);
            padding-bottom: 20px;
        }
        
        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        
        .total {
            font-weight: bold;
            font-size: 1.2rem;
            color: var(--azul-oscuro);
        }
        
        .checkout-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, var(--azul), var(--rojo));
            color: var(--blanco);
            border: none;
            border-radius: 5px;
            font-weight: bold;
            font-size: 1.1rem;
            cursor: pointer;
            margin-top: 20px;
            transition: transform 0.3s;
        }
        
        .checkout-btn:hover {
            transform: scale(1.05);
        }
        
        .customer-info {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #eee;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }
        
        .form-group input, .form-group textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }
        
        .form-group textarea {
            height: 80px;
            resize: vertical;
        }
        
        .recurrent-order {
            margin-top: 15px;
        }
        
        .recurrent-order label {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
        }
        
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            z-index: 999;
            display: none;
        }
        
        .overlay.active {
            display: block;
        }
        
        /* Footer */
        footer {
            background: linear-gradient(135deg, var(--azul-oscuro), var(--rojo-oscuro));
            color: white;
            padding: 40px 5% 20px;
            margin-top: 50px;
        }
        
        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .footer-section h3 {
            margin-bottom: 20px;
            color: var(--blanco);
        }
        
        .footer-section p, .footer-section a {
            color: #ddd;
            margin-bottom: 10px;
            display: block;
            text-decoration: none;
        }
        
        .footer-section a:hover {
            color: var(--blanco);
        }
        
        .social-icons {
            display: flex;
            gap: 15px;
            margin-top: 15px;
        }
        
        .social-icons a {
            font-size: 1.2rem;
        }
        
        .footer-bottom {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid rgba(255,255,255,0.1);
            max-width: 1400px;
            margin: 0 auto;
        }
        
        /* Responsive */
        @media (min-width: 768px) {
            .cart-sidebar {
                width: 380px;
                right: -400px;
            }
            
            .cart-sidebar.active {
                right: 0;
            }
        }
        
        @media (max-width: 768px) {
            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
            
            .cart-sidebar {
                width: 100%;
                right: -100%;
            }
            
            .hero h2 {
                font-size: 2rem;
            }
            
            .nav-links {
                display: none;
            }
            
            .cart-item {
                flex-direction: column;
            }
            
            .cart-item-image {
                width: 100%;
                height: 120px;
                margin-right: 0;
                margin-bottom: 10px;
            }
        }
        
        @media (max-width: 480px) {
            .header-container {
                padding: 15px;
            }
            
            .logo h1 {
                font-size: 18px;
            }
            
            .products-grid {
                grid-template-columns: 1fr;
            }
            
            .hero {
                padding: 40px 15px;
            }
            
            .hero h2 {
                font-size: 1.8rem;
            }
            
            .cart-sidebar {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="header-container">
            <div class="logo">
                <i class="fas fa-utensils"></i>
                <h1>Pastas Casares</h1>
            </div>
            <div class="nav-links">
                <a href="index.html">Inicio</a>
                <a href="#productos">Productos</a>
                <a href="#contacto">Contacto</a>
            </div>
            <div id="cartIcon" class="cart-icon">
                <i class="fas fa-shopping-cart"></i>
                <span class="cart-count">0</span>
            </div>
        </div>
    </header>
    
    <!-- Main Content -->
    <div class="container">
        <!-- Hero Section -->
        <section class="hero">
            <h2>Pastas Caseras - María Grande</h2>
            <p>Pastas frescas artesanales entregadas directamente a tu domicilio</p>
            <button id="openCartBtn" class="checkout-btn" style="max-width: 200px;">Ver Mi Pedido</button>
        </section>
        
        <!-- Delivery Info -->
        <section class="delivery-info">
            <h3><i class="fas fa-clock"></i> Horarios de Reparto</h3>
            <div class="encargo-destacado">
                ¡Encargue hoy y empiece a recibir mañana!
            </div>
            <p>Lunes a Viernes de 11:00 AM a 12:00 PM</p>
            <p>Realiza tu pedido con anticipación para asegurar disponibilidad</p>
        </section>
        
        <!-- Products Section -->
        <section class="products-section" id="productos">
            <h2>Nuestras Pastas</h2>
            <div id="pastaProductsGrid" class="products-grid">
                <!-- Ñoquis -->
                <div class="product-card">
                    <div class="product-image">
                        <i class="fas fa-dot-circle"></i>
                        <span class="product-availability">Disponible</span>
                    </div>
                    <div class="product-info">
                        <h3>Ñoquis de Papa</h3>
                        <div class="product-price">$6000</div>
                        <div class="product-details">
                            <div class="product-weight">Peso: 1 KG</div>
                            <div class="product-clarification">Precio por paquete de 1 KG</div>
                        </div>
                        <div class="product-ingredientes">Papa, harina, huevo, sal, nuez moscada</div>
                        <div class="quantity-selector">
                            <button class="quantity-btn minus">-</button>
                            <input type="text" class="quantity-input" value="1" readonly>
                            <button class="quantity-btn plus">+</button>
                        </div>
                        <button class="add-to-cart" data-product="Ñoquis de Papa" data-price="6000">Agregar al Carrito</button>
                    </div>
                </div>
                
                <!-- Ravioles -->
                <div class="product-card">
                    <div class="product-image">
                        <i class="fas fa-square"></i>
                        <span class="product-availability">Disponible</span>
                    </div>
                    <div class="product-info">
                        <h3>Ravioles</h3>
                        <div class="product-price">$1700</div>
                        <div class="product-details">
                            <div class="product-cant">Por plancha</div>
                            <div class="product-clarification">Precio por plancha</div>
                        </div>
                        <div class="flavor-selector">
                            <label for="ravioles-flavor">Selecciona el relleno:</label>
                            <select id="ravioles-flavor" class="flavor-select">
                                <option value="Ricota">Ricota</option>
                                <option value="Acelga">Acelga</option>
                            </select>
                        </div>
                        <div class="quantity-selector">
                            <button class="quantity-btn minus">-</button>
                            <input type="text" class="quantity-input" value="1" readonly>
                            <button class="quantity-btn plus">+</button>
                        </div>
                        <button class="add-to-cart" data-product="Ravioles" data-price="1700">Agregar al Carrito</button>
                    </div>
                </div>
                
                <!-- Canelones -->
                <div class="product-card">
                    <div class="product-image">
                        <i class="fas fa-archive"></i>
                        <span class="product-availability">Disponible</span>
                    </div>
                    <div class="product-info">
                        <h3>Canelones</h3>
                        <div class="product-price">$7000</div>
                        <div class="product-details">
                            <div class="product-cant">Media docena</div>
                            <div class="product-clarification">Precio por media docena</div>
                        </div>
                        <div class="flavor-selector">
                            <label for="canelones-flavor">Selecciona el relleno:</label>
                            <select id="canelones-flavor" class="flavor-select">
                                <option value="Ricota">Ricota</option>
                                <option value="Acelga">Acelga</option>
                                <option value="Espinaca">Espinaca</option>
                            </select>
                        </div>
                        <div class="quantity-selector">
                            <button class="quantity-btn minus">-</button>
                            <input type="text" class="quantity-input" value="1" readonly>
                            <button class="quantity-btn plus">+</button>
                        </div>
                        <button class="add-to-cart" data-product="Canelones" data-price="7000">Agregar al Carrito</button>
                    </div>
                </div>
                
                <!-- Tallarines -->
                <div class="product-card">
                    <div class="product-image">
                        <i class="fas fa-grip-lines"></i>
                        <span class="product-availability">Disponible</span>
                    </div>
                    <div class="product-info">
                        <h3>Tallarines</h3>
                        <div class="product-price">$2700</div>
                        <div class="product-details">
                            <div class="product-weight">Peso: 1/2 KG</div>
                            <div class="product-clarification">Precio por paquete de 1/2 KG</div>
                        </div>
                        <div class="flavor-selector">
                            <label for="tallarines-flavor">Selecciona el sabor:</label>
                            <select id="tallarines-flavor" class="flavor-select">
                                <option value="Huevo">Huevo</option>
                                <option value="Espinaca">Espinaca</option>
                                <option value="Morrón y Tomate">Morrón y Tomate</option>
                            </select>
                        </div>
                        <div class="quantity-selector">
                            <button class="quantity-btn minus">-</button>
                            <input type="text" class="quantity-input" value="1" readonly>
                            <button class="quantity-btn plus">+</button>
                        </div>
                        <button class="add-to-cart" data-product="Tallarines" data-price="2700">Agregar al Carrito</button>
                    </div>
                </div>
            </div>
        </section>
    </div>
    
    <!-- Cart Sidebar -->
    <div id="cartSidebar" class="cart-sidebar">
        <div class="cart-header">
            <h2>Tu Pedido</h2>
            <button id="closeCart" class="close-cart">×</button>
        </div>
        <div id="cartItems" class="cart-items">
            <!-- Los items del carrito se cargarán dinámicamente -->
            <p class="empty-cart-message">Tu carrito está vacío</p>
        </div>
        <div class="customer-info">
            <h3>Información de Entrega</h3>
            <div class="form-group">
                <label for="customerName">Nombre (opcional)</label>
                <input type="text" id="customerName" placeholder="Tu nombre">
            </div>
            <div class="form-group">
                <label for="deliveryAddress">Dirección de entrega *</label>
                <textarea id="deliveryAddress" placeholder="Dirección completa para la entrega" required></textarea>
            </div>
            <div class="form-group">
                <label for="deliveryNotes">Notas adicionales</label>
                <textarea id="deliveryNotes" placeholder="Especificar sabores preferidos, instrucciones especiales, etc."></textarea>
            </div>
            <div class="recurrent-order">
                <label>
                    <input type="checkbox" id="recurrentOrder">
                    <span>¿Quieres recibir este mismo pedido otros días?</span>
                </label>
                <div id="recurrentDetails" style="display: none; margin-top: 10px;">
                    <textarea id="recurrentInfo" placeholder="Especifica qué días y con qué frecuencia (ej: todos los martes)"></textarea>
                </div>
            </div>
        </div>
        <div class="cart-summary">
            <div class="summary-row">Subtotal: <span id="subtotal">$0</span></div>
            <div class="summary-row">Envío: <span>Gratis</span></div>
            <div class="summary-row total">Total: <span id="total">$0</span></div>
            <button id="checkoutBtn" class="checkout-btn">Enviar Pedido por WhatsApp</button>
        </div>
    </div>
    
    <!-- Overlay -->
    <div id="overlay" class="overlay"></div>
    
    <!-- Footer -->
    <footer id="contacto">
        <div class="footer-content">
            <div class="footer-section">
                <h3>Contacto</h3>
                <p><i class="fab fa-whatsapp"></i> +54 9 343 534-5362</p>
                <p><i class="fas fa-phone"></i> +54 9 343 534-5362</p>
                <p><i class="fas fa-envelope"></i> faku96varisco@gmail.com.ar</p>
                <p><i class="fas fa-map-marker-alt"></i> María Grande, Entre Ríos</p>
            </div>
            <div class="footer-section">
                <h3>Horarios</h3>
                <p>Lunes a Viernes: 11:00 - 12:00</p>
                <p>Sábados y Domingos: Sin reparto</p>
            </div>
            <div class="footer-section">
                <h3>Métodos de Pago</h3>
                <p>Efectivo en puerta</p>
                <p>Mercado Pago: facundo96varisco</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>© 2025 Pastas Casares. Todos los derechos reservados.</p>
        </div>
    </footer>

    <script>
        // Funcionalidad del carrito
        document.addEventListener('DOMContentLoaded', function() {
            const cartIcon = document.getElementById('cartIcon');
            const openCartBtn = document.getElementById('openCartBtn');
            const cartSidebar = document.getElementById('cartSidebar');
            const closeCart = document.getElementById('closeCart');
            const overlay = document.getElementById('overlay');
            const addToCartButtons = document.querySelectorAll('.add-to-cart');
            const cartItems = document.getElementById('cartItems');
            const cartCount = document.querySelector('.cart-count');
            const subtotalElement = document.getElementById('subtotal');
            const totalElement = document.getElementById('total');
            const checkoutBtn = document.getElementById('checkoutBtn');
            const recurrentOrder = document.getElementById('recurrentOrder');
            const recurrentDetails = document.getElementById('recurrentDetails');
            
            let cart = [];
            let subtotal = 0;
            
            // Abrir carrito
            cartIcon.addEventListener('click', openCart);
            openCartBtn.addEventListener('click', openCart);
            
            function openCart() {
                cartSidebar.classList.add('active');
                overlay.classList.add('active');
            }
            
            // Cerrar carrito
            closeCart.addEventListener('click', closeCartFunction);
            overlay.addEventListener('click', closeCartFunction);
            
            function closeCartFunction() {
                cartSidebar.classList.remove('active');
                overlay.classList.remove('active');
            }
            
            // Mostrar/ocultar detalles de pedido recurrente
            recurrentOrder.addEventListener('change', function() {
                recurrentDetails.style.display = this.checked ? 'block' : 'none';
            });
            
            // Agregar productos al carrito
            addToCartButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const productCard = this.closest('.product-card');
                    const productName = this.getAttribute('data-product');
                    const productPrice = parseFloat(this.getAttribute('data-price'));
                    const quantity = parseInt(productCard.querySelector('.quantity-input').value);
                    
                    // Obtener el sabor seleccionado
                    let flavor = "";
                    const flavorSelect = productCard.querySelector('.flavor-select');
                    if (flavorSelect) {
                        flavor = flavorSelect.value;
                    }
                    
                    // Crear nombre completo del producto
                    const fullProductName = flavor ? `${productName} - ${flavor}` : productName;
                    
                    // Verificar si el producto ya está en el carrito
                    const existingItem = cart.find(item => item.fullName === fullProductName);
                    
                    if (existingItem) {
                        existingItem.quantity += quantity;
                    } else {
                        cart.push({
                            name: productName,
                            fullName: fullProductName,
                            flavor: flavor,
                            price: productPrice,
                            quantity: quantity
                        });
                    }
                    
                    updateCart();
                    
                    // Mostrar mensaje de confirmación
                    const notification = document.createElement('div');
                    notification.textContent = `¡${fullProductName} agregado al carrito!`;
                    notification.style.cssText = `
                        position: fixed;
                        top: 100px;
                        right: 20px;
                        background-color: var(--exito);
                        color: white;
                        padding: 15px 20px;
                        border-radius: 5px;
                        z-index: 1001;
                        box-shadow: 0 4px 12px rgba(0,0,0,0.2);
                        animation: fadeInOut 3s ease-in-out;
                    `;
                    document.body.appendChild(notification);
                    
                    setTimeout(() => {
                        notification.remove();
                    }, 3000);
                });
            });
            
            // Actualizar carrito
            function updateCart() {
                cartItems.innerHTML = '';
                subtotal = 0;
                
                if (cart.length === 0) {
                    cartItems.innerHTML = '<p class="empty-cart-message">Tu carrito está vacío</p>';
                } else {
                    cart.forEach((item, index) => {
                        const itemTotal = item.price * item.quantity;
                        subtotal += itemTotal;
                        
                        const cartItemElement = document.createElement('div');
                        cartItemElement.classList.add('cart-item');
                        cartItemElement.innerHTML = `
                            <div class="cart-item-image">
                                <i class="fas fa-utensils"></i>
                            </div>
                            <div class="cart-item-details">
                                <div class="cart-item-name">${item.name}</div>
                                ${item.flavor ? `<div class="cart-item-flavor">Sabor: ${item.flavor}</div>` : ''}
                                <div class="cart-item-price">$${item.price} x ${item.quantity}</div>
                                <div class="cart-item-quantity">
                                    <button class="quantity-btn minus" data-index="${index}">-</button>
                                    <span>${item.quantity}</span>
                                    <button class="quantity-btn plus" data-index="${index}">+</button>
                                    <button class="remove-item" data-index="${index}">Eliminar</button>
                                </div>
                            </div>
                        `;
                        
                        cartItems.appendChild(cartItemElement);
                    });
                    
                    // Agregar event listeners a los botones de cantidad y eliminar
                    const minusButtons = cartItems.querySelectorAll('.minus');
                    const plusButtons = cartItems.querySelectorAll('.plus');
                    const removeButtons = cartItems.querySelectorAll('.remove-item');
                    
                    minusButtons.forEach(button => {
                        button.addEventListener('click', function() {
                            const index = parseInt(this.getAttribute('data-index'));
                            if (cart[index].quantity > 1) {
                                cart[index].quantity--;
                                updateCart();
                            }
                        });
                    });
                    
                    plusButtons.forEach(button => {
                        button.addEventListener('click', function() {
                            const index = parseInt(this.getAttribute('data-index'));
                            cart[index].quantity++;
                            updateCart();
                        });
                    });
                    
                    removeButtons.forEach(button => {
                        button.addEventListener('click', function() {
                            const index = parseInt(this.getAttribute('data-index'));
                            cart.splice(index, 1);
                            updateCart();
                        });
                    });
                }
                
                // Actualizar contador y totales
                const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
                cartCount.textContent = totalItems;
                subtotalElement.textContent = `$${subtotal}`;
                totalElement.textContent = `$${subtotal}`;
            }
            
            // Botones de cantidad en productos
            const quantityButtons = document.querySelectorAll('.quantity-btn');
            quantityButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const input = this.parentElement.querySelector('.quantity-input');
                    let value = parseInt(input.value);
                    
                    if (this.classList.contains('plus')) {
                        value++;
                    } else if (this.classList.contains('minus') && value > 1) {
                        value--;
                    }
                    
                    input.value = value;
                });
            });
            
            // Botón de checkout
            checkoutBtn.addEventListener('click', function() {
                if (cart.length === 0) {
                    alert('Tu carrito está vacío');
                    return;
                }
                
                const customerName = document.getElementById('customerName').value;
                const deliveryAddress = document.getElementById('deliveryAddress').value;
                const deliveryNotes = document.getElementById('deliveryNotes').value;
                const isRecurrent = document.getElementById('recurrentOrder').checked;
                const recurrentInfo = document.getElementById('recurrentInfo').value;
                
                if (!deliveryAddress) {
                    alert('Por favor, ingresa tu dirección de entrega');
                    return;
                }
                
                // Crear mensaje de WhatsApp
                let message = "Hola! Me gustaría hacer un pedido de Pastas Casares:%0A%0A";
                
                cart.forEach(item => {
                    message += `- ${item.fullName} x${item.quantity} - $${item.price * item.quantity}%0A`;
                });
                
                message += `%0ATotal: $${subtotal}%0A%0A`;
                
                if (customerName) {
                    message += `Nombre: ${customerName}%0A`;
                }
                
                message += `Dirección: ${deliveryAddress}%0A`;
                
                if (deliveryNotes) {
                    message += `Notas: ${deliveryNotes}%0A`;
                }
                
                if (isRecurrent && recurrentInfo) {
                    message += `Pedido recurrente: ${recurrentInfo}%0A`;
                }
                
                message += "%0APor favor, confirmar disponibilidad y horario de entrega.";
                
                const phoneNumber = "5493435345362";
                const url = `https://wa.me/${phoneNumber}?text=${message}`;
                
                window.open(url, '_blank');
            });
        });
    </script>
    
    <style>
        @keyframes fadeInOut {
            0% { opacity: 0; transform: translateY(-20px); }
            20% { opacity: 1; transform: translateY(0); }
            80% { opacity: 1; transform: translateY(0); }
            100% { opacity: 0; transform: translateY(-20px); }
        }
    </style>
</body>
</html>
